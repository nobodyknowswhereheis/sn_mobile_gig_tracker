<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__b290c7eefa3e2300f061a4f31a50f98d">be90c7eedb3e2300f51ef3c61d96198d</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"a01987b5aca74cd7b352f1592f7e4dde","triggerType":"request","id":"a01987b5aca74cd7b352f1592f7e4dde"}],"goals":[{"name":"primary","trigger_id":"a01987b5aca74cd7b352f1592f7e4dde","nodes":[{"type":"StartGoal","goal_id":"fd6a7c2ce4914ba6b989b9e1822450aa","greeting_msg":{"type":"String","mode":"string","value":""},"id":"0deac543677f462a88b188eed0cda201","name":"Start"},{"type":"TerminateGoal","goal_id":"fd6a7c2ce4914ba6b989b9e1822450aa","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"96a670c8228a453ba7a84436e66f8d2a","name":"End"},{"type":"CRUDAction","mode":"read","read_mode":"variable","variable_id":"6f181564f381466382430517f3d8cb50","script":"(function execute(table) {\n    var gr = new GlideRecordSecure('x_snc_gig_tracker_gig_request');\n    gr.addQuery('member', vaInputs.user);\n    gr.addQuery('status',1);\n    gr.orderByDesc('sys_created_on'); \n\n    gr.query();  \n\n    // get total count, used for pagination\n    vaVars.count = gr.getRowCount();\n})(table)\n","id":"f42cf28d32cb45e19671394f837abb05","name":"outstanding requests","goal_id":"fd6a7c2ce4914ba6b989b9e1822450aa","condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n    var gr = new GlideRecordSecure('x_snc_gig_tracker_gig_request');\n    gr.addQuery('member', vaInputs.user);\n    gr.addQuery('status',1);\n    gr.orderByDesc('sys_created_on'); \n\n    gr.query();  \n\n    // get total count, used for pagination\n    vaVars.count = gr.getRowCount();\n})(table)\n"}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"hasNext","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    var res = vaVars.count &gt; 0 == true ? true : false;\n    return res;\n})()\n"},"id":"463ac12abc7e4f19a365ad3e27907c71","name":"hasNext"},{"type":"Branch","label":"!hasNext","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    var go = vaVars.count &gt; 0 ? false : true;\n    return go;\n})()\n"},"id":"fb0362ef9bf54bb5b1d46e129067699e","name":"!hasNext"}],"id":"4caa81931d5a4da9a5c3577fdc403b1e","goal_id":"fd6a7c2ce4914ba6b989b9e1822450aa"},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"It looks like you have no outstanding requests at this time!"},"id":"eb9935f1c3214204ab12d5f999212cf4","name":"All done!","goal_id":"fd6a7c2ce4914ba6b989b9e1822450aa"},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Should I go?","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    var shouldIgo = vaVars.count &gt; vaVars.index + limit ? false : true;\n    return shouldIgo;\n})()\n"},"id":"7d936aec14674b9db8e8af26fb17f72f","name":"Should I go?"},{"type":"Branch","label":"Should I stay?","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    var shouldIStay = vaVars.count &gt; vaVars.index + limit ? true : false;\n    return shouldIStay;\n})()\n"},"id":"bef8045c6b904b20950e9b4302da7076","name":"Should I stay?"}],"id":"7d9949052cd246ddb5036d2091953d7f","goal_id":"fd6a7c2ce4914ba6b989b9e1822450aa"},{"type":"ScriptedAction","script":"(function execute() {\n    /* Code your scripted action here. For example, you might update a \n       record based on conditional logic:\n    \n        if (vaVars.my_flag == 'say hello') {\n            gs.info('hi there');\n        } else {\n            gs.info('bye now');\n        }\n    */\n    vaVars.index ++;\n})()\n","id":"6b27cd9e10f24af1ac47a5cf1d5b48b5","name":"incrementNext","goal_id":"fd6a7c2ce4914ba6b989b9e1822450aa"},{"type":"RecordOutputPrompt","mode":"variable","table":"x_snc_gig_tracker_gig_request","variable_id":"f5e549a28927486fbe5527e9361532d3","fields":["gig","instrument"],"id":"197a3437d9bc46ff8c98a2d2fe9ed0d3","name":"ShowNextRecord","goal_id":"fd6a7c2ce4914ba6b989b9e1822450aa","condition":{"type":"Condition","mode":"variable","value":""}},{"type":"CRUDAction","mode":"read","read_mode":"variable","variable_id":"f5e549a28927486fbe5527e9361532d3","script":"(function execute(table) {\n    var gr = new GlideRecordSecure('x_snc_gig_tracker_gig_request');\n    gr.addQuery('member', vaInputs.user);\n    gr.addQuery('status',1);\n    gr.orderByDesc('sys_created_on'); \n    gr.chooseWindow(vaVars.index, vaVars.index + vaVars.limit, true);\n    gr.query();  \n\n    // get total count, used for pagination\n    while(gr.next()){\n        return gr;\n    }\n})(table)\n","id":"12e560da909c4f599df63bffb22d3ba5","name":"nextRecord","goal_id":"fd6a7c2ce4914ba6b989b9e1822450aa","condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n    var gr = new GlideRecordSecure('x_snc_gig_tracker_gig_request');\n    gr.addQuery('member', vaInputs.user);\n    gr.addQuery('status',1);\n    gr.orderByDesc('sys_created_on'); \n    gr.chooseWindow(vaVars.index, vaVars.index + vaVars.limit, true);\n    gr.query();  \n\n    // get total count, used for pagination\n    while(gr.next()){\n        return gr;\n    }\n})(table)\n"}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"44525f61362d4f429b13ebc6908ab1ed","name":"selected_action","goal_id":"fd6a7c2ce4914ba6b989b9e1822450aa","variable_id":"34d317b9d536467aabbfe3838c29f57c","message":{"type":"String","mode":"string","value":"How should I repsond?"},"acknowledgement":{"type":"String","mode":"string","value":"Confirm"},"confirmation":{"type":"String","mode":"string","value":"Great! I'll take care of that for you."},"optional":false},{"type":"CRUDAction","mode":"update","query":"status={{vaInputs.selected_action}}","variable_id":"f5e549a28927486fbe5527e9361532d3","id":"8a8b3b64b95940f491fa04bfa69fea69","name":"Update Request","goal_id":"fd6a7c2ce4914ba6b989b9e1822450aa","applicability":{"type":"Applicability","mode":"query","value":"selected_action=2^ORselected_action=3"}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"{{vaVars.count}}"},"id":"78cd7c743a6a4186bc8fd8d93c1f3c0d","name":"print count","goal_id":"fd6a7c2ce4914ba6b989b9e1822450aa"}],"edges":[{"type":"Edge","source_node_id":"4caa81931d5a4da9a5c3577fdc403b1e","target_node_id":"12e560da909c4f599df63bffb22d3ba5","branch_id":"463ac12abc7e4f19a365ad3e27907c71","id":"0d4c4b09c66c4ae89ea9eb6197da9445","name":"463ac12abc7e4f19a365ad3e27907c71"},{"type":"Edge","source_node_id":"0deac543677f462a88b188eed0cda201","target_node_id":"f42cf28d32cb45e19671394f837abb05","id":"c3a9c569f7a349ca915ae6a9dedf5751"},{"type":"Edge","source_node_id":"4caa81931d5a4da9a5c3577fdc403b1e","target_node_id":"eb9935f1c3214204ab12d5f999212cf4","branch_id":"fb0362ef9bf54bb5b1d46e129067699e","id":"432719a8226340c5a614ce5a886b21da","name":"fb0362ef9bf54bb5b1d46e129067699e"},{"type":"Edge","source_node_id":"eb9935f1c3214204ab12d5f999212cf4","target_node_id":"96a670c8228a453ba7a84436e66f8d2a","id":"a7d14e9711fb409cab66ac762bf56605"},{"type":"Edge","source_node_id":"7d9949052cd246ddb5036d2091953d7f","target_node_id":"96a670c8228a453ba7a84436e66f8d2a","branch_id":"7d936aec14674b9db8e8af26fb17f72f","id":"e3b00c5208ed447a97112f4354f06e24","name":"7d936aec14674b9db8e8af26fb17f72f"},{"type":"Edge","source_node_id":"7d9949052cd246ddb5036d2091953d7f","target_node_id":"6b27cd9e10f24af1ac47a5cf1d5b48b5","branch_id":"bef8045c6b904b20950e9b4302da7076","id":"c500b8e786164795b02409a0e7b28913","name":"bef8045c6b904b20950e9b4302da7076"},{"type":"Edge","source_node_id":"6b27cd9e10f24af1ac47a5cf1d5b48b5","target_node_id":"12e560da909c4f599df63bffb22d3ba5","id":"4b4c14fe2c6942eca15bff76ef19058b"},{"type":"Edge","source_node_id":"12e560da909c4f599df63bffb22d3ba5","target_node_id":"197a3437d9bc46ff8c98a2d2fe9ed0d3","id":"6eb4c92453d14053ba9ca2c1c112e7f5"},{"type":"Edge","source_node_id":"197a3437d9bc46ff8c98a2d2fe9ed0d3","target_node_id":"44525f61362d4f429b13ebc6908ab1ed","id":"d6cfd301a4924420896453c7013dc7b1"},{"type":"Edge","source_node_id":"44525f61362d4f429b13ebc6908ab1ed","target_node_id":"8a8b3b64b95940f491fa04bfa69fea69","id":"eff0a10b83e0432785545cc6a04234d3"},{"type":"Edge","source_node_id":"8a8b3b64b95940f491fa04bfa69fea69","target_node_id":"7d9949052cd246ddb5036d2091953d7f","id":"52a4426ae0b7443a803451f5b811bed1"},{"type":"Edge","source_node_id":"f42cf28d32cb45e19671394f837abb05","target_node_id":"78cd7c743a6a4186bc8fd8d93c1f3c0d","id":"8168dc989955479bb6c87ab881a947d2"},{"type":"Edge","source_node_id":"78cd7c743a6a4186bc8fd8d93c1f3c0d","target_node_id":"4caa81931d5a4da9a5c3577fdc403b1e","id":"dc01002ca25b42ea9723f19d487e0429"}],"id":"fd6a7c2ce4914ba6b989b9e1822450aa"}],"script_variables":[{"type":"String","name":"count","value":{"type":"String","mode":"string","value":"0"},"id":"7668df36fb7b47bc925fae1c42500f1d"},{"type":"String","name":"index","value":{"type":"String","mode":"string","value":"0"},"id":"58ecf2a9bb4341218993bd36e6d125d7"},{"type":"String","name":"limit","value":{"type":"String","mode":"string","value":"1"},"id":"17aa4bc9879046eaae2771a6fd922d10"}],"glide_variables":[{"type":"Reference","table":"x_snc_gig_tracker_gig_request","id":"6f181564f381466382430517f3d8cb50","name":"outstanding_requests"},{"type":"Reference","table":"sys_user","id":"current-user","name":"user"},{"type":"Reference","table":"x_snc_gig_tracker_gig_request","id":"f5e549a28927486fbe5527e9361532d3","name":"nextrecord"},{"type":"Choice","choices":[{"name":"Confirm","element":"2"},{"name":"Decline","element":"3"},{"name":"Nothing for now","element":"1"}],"id":"34d317b9d536467aabbfe3838c29f57c","name":"selected_action"},{"type":"Reference","table":"","id":"91581403b07b47a58c28ad7653c81c82","name":"update_request"}],"roles":[],"scope":"c55fd1504f12a300137c4b8d0210c7d0","id":"9008fa6adb3e2300f51ef3c61d9619ae","name":"_PRVW__b290c7eefa3e2300f061a4f31a50f98d","key_phrases":["Manage my outstanding requests"]}</design_definition>
        <design_topic_id>9008fa6adb3e2300f51ef3c61d9619ae</design_topic_id>
        <name>_PRVW__b290c7eefa3e2300f061a4f31a50f98d</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>jesse.adams</sys_created_by>
        <sys_created_on>2019-01-07 19:55:08</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>f290c7eedb3e2300f51ef3c61d961990</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="Gig Tracker" source="x_snc_gig_tracker">c55fd1504f12a300137c4b8d0210c7d0</sys_package>
        <sys_policy/>
        <sys_scope display_value="Gig Tracker">c55fd1504f12a300137c4b8d0210c7d0</sys_scope>
        <sys_update_name>sys_cb_design_topic_f290c7eedb3e2300f51ef3c61d961990</sys_update_name>
        <sys_updated_by>jesse.adams</sys_updated_by>
        <sys_updated_on>2019-01-07 19:55:08</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
